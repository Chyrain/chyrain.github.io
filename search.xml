<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[有意思的JS]]></title>
      <url>https://chyrain.github.io/2017/01/19/%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84JS/</url>
      <content type="html"><![CDATA[<h2 id="函数闭包-amp-柯里化"><a href="#函数闭包-amp-柯里化" class="headerlink" title="函数闭包&amp;柯里化"></a>函数闭包&amp;柯里化</h2><h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><p>有这么一道题：</p>
<blockquote>
<p>要实现一个函数，主要功能是对参数进行加法运算，但是参数传递方式略有不同：</p>
<p><code>CISDI_Cal(0).toString() //输出0</code><br><code>CISDI_Cal(0)(1).toString() //输出1</code><br><code>CISDI_Cal(0)(1)(2).toString() //输出3</code><br><code>var v = CISDI_Cal(0)(1); v(2).toString() //输出3</code></p>
</blockquote>
<p>这个题考察的是javascript里面常用的函数闭包，从示例可以看到：</p>
<ol>
<li>从第二个示例<code>CISDI_Cal(n)</code>返回的是一个函数对象，从第三和四示例可以看到<code>CISDI_Cal(n)(n)</code>返回的也是一个函数对象；</li>
<li><code>CISDI_Cal(0).toString()</code>返回了累加的结果，说明每个返回的函数对象都有<code>toString</code>方法；</li>
<li>多次函数调用累加得到结果，故前一函数获得参数累加后的值保留到了后一函数进行累加。</li>
</ol>
<p>由上面分析可知，<code>CISDI_Cal</code>内部有一个函数，这个函数执行后对输入进行了累加并返回了一个同样的函数，这个函数有<code>toString</code>方法输出累加结果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">CISDI_Cal</span>(<span class="params">n</span>) </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a</span>) </span>&#123;</div><div class="line">        n += a;</div><div class="line">        <span class="keyword">return</span> add;</div><div class="line">    &#125;</div><div class="line">    add.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> n;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> add;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面这个例子讲的是函数闭包，过上面这种特殊的函数写法，可以让一个函数读取一个与自己不同作用域的局部变量，上面的<code>n</code>是函数<code>CISDI_Cal</code>内的局部变量，对<code>add</code>是可见的，但是反过来就不行，<code>add</code>内部的局部变量，对<code>CISDI_Cal</code>就是不可见的，既然<code>add</code>可以读取<code>CISDI_Cal</code>中的局部变量，那么只要把<code>add</code>作为返回值，我们就可以在<code>CISDI_Cal</code>外部读取它的内部变量，简单一句话来说函数闭包就是 <strong>函数内包含子函数，并最终return子函数</strong> ，<br>闭包函数的最大价值在于：我们可以在函数的外部（即子函数），直接读取该函数的局部变量。再仔细研究，就会发现<code>CISDI_Cal</code>函数就如同一个“类”，而其定义的局部变量就如同该“类”的全局变量；而子函数<code>add</code>函数，则如同这个“类”的方法，可以直接使用这个“类”的全局变量n。</p>
<h3 id="闭包函数的主要作用"><a href="#闭包函数的主要作用" class="headerlink" title="闭包函数的主要作用"></a>闭包函数的主要作用</h3><ol>
<li>缓存：可以实现数据缓存，我们可以把一个需要长期用到的变量设为闭包函数的局部变量，在子函数里面直接使用它。因此局部变量只定义初始化一次，但我们可以多次调用子函数并使用该变量。这比起我们在子函数中定义初始化变量，多次调用则多次初始化的做法，效率更高。闭包函数常见的一种用途就是，我们可以通过此实现计数功能。在闭包函数定义一个计数变量，而在子函数中对其进行++的操作。这样每次调用闭包函数，计数变量就会加1。</li>
<li>实现封装：如同前面所说，闭包函数就如同一个“类”，只有在该闭包函数里的方法才可以使用其局部变量，闭包函数之外的方法是不能读取其局部变量的。这就实现了面向对象的封装性，更安全更可靠。</li>
</ol>
<h3 id="那什么是柯里化呢？"><a href="#那什么是柯里化呢？" class="headerlink" title="那什么是柯里化呢？"></a>那什么是柯里化呢？</h3><p>额，这么说吧…利用柯里化机制的函数function就是闭包函数。</p>
<blockquote>
<p><em>柯里化（Currying）</em>，又称部分求值<em>（Partial Evaluation）</em>，是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。</p>
</blockquote>
<p>百科上的定义是针对众多函数式语言而言的，按照Stoyan Stefanov(《JavaScript Pattern》作者)的说法，所谓“柯里化”就是使函数理解并处理部分应用.举个栗子的话，就是下面这个(来自<a href="http://www.zhangxinxu.com/wordpress/2013/02/js-currying/" target="_blank" rel="external">张鑫旭</a>)：</p>
<blockquote>
<p>柯南身子虽小，但是里面住的却是大柯南，也就是一个function里面还有个function。不同柯南处理不同情况，例如，小柯南可以和…稍等，他女朋友叫什么的忘了，我查查…哦，毛利兰一起洗澡澡；但是大柯南就不行。小柯南不能当面指正犯人，需借助小五郎；但是，大柯南就可以直接质问指出凶手。就类似于，内外function处理不同的参数。如果代码表示就是(小柯南=smallKenan; 大柯南=bigKenan; 小柯南嗑药会变大柯南)：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> smallKenan = <span class="function"><span class="keyword">function</span>(<span class="params">action</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> bigKenan = <span class="function"><span class="keyword">function</span>(<span class="params">doing</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> result = <span class="string">""</span>;</div><div class="line">        <span class="keyword">if</span> (action === <span class="string">"take drugs"</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (doing === <span class="string">"bathWithGirlFriend"</span>) &#123;</div><div class="line">                result = <span class="string">"尖叫，新一，你这个色狼，然后一巴掌，脸煮熟了~"</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (doing === <span class="string">"pointOutKiller"</span>) &#123;</div><div class="line">                result = <span class="string">"新一，这个案子就交给你的，快点找出谁是凶手吧~"</span>;</div><div class="line">            &#125;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (doing === <span class="string">"bathWithGirlFriend"</span>) &#123;</div><div class="line">                result = <span class="string">"来吧，柯南，一起洗澡吧~"</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (doing === <span class="string">"pointOutKiller"</span>) &#123;</div><div class="line">                result = <span class="string">"小孩子家，滚一边去！"</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">console</span>.log(result);</div><div class="line">        <span class="keyword">return</span> <span class="built_in">arguments</span>.callee; <span class="comment">// 等同于return bigKenan</span></div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">return</span> bigKenan;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 小柯南吃药了，然后和毛利兰洗澡，凶案现场指证犯人；结果是……</span></div><div class="line">smallKenan(<span class="string">"take drugs"</span>)(<span class="string">"bathWithGirlFriend"</span>)(<span class="string">"pointOutKiller"</span>);</div></pre></td></tr></table></figure>
<p>结果如下：</p>
<blockquote>
<p>尖叫，新一，你这个色狼，然后一巴掌，脸煮熟了~<br>新一，这个案子就交给你的，快点找出谁是凶手吧~</p>
</blockquote>
<p>“吃药”、“洗澡”、“指出凶手”就可以看成三个参数，其中，“吃药”确实是小柯南使用的，而后面的是“洗澡”、“指出凶手”虽然跟在smallKenan()后面，实际上是大柯南使用的。这个就是柯里化，参数部分使用。外部函数处理部分应用，剩下的由外部函数的返回函数处理。</p>
<p><strong>柯里化有3个常见作用：1. 参数复用；2. 提前返回；3. 延迟计算/运行。</strong></p>
<h4 id="1-参数复用"><a href="#1-参数复用" class="headerlink" title="1.参数复用"></a>1.参数复用</h4><p>前面第一个栗子就是，每次<code>add</code>都需要一个n参与计算，并保存计算结果，通过柯里化过程，<code>add</code>无需添加这个多余的参数。</p>
<h4 id="2-提前返回"><a href="#2-提前返回" class="headerlink" title="2.提前返回"></a>2.提前返回</h4><p>很常见的一个例子，兼容现代浏览器以及IE浏览器的事件添加方法。我们正常情况可能会这样写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> addEvent = <span class="function"><span class="keyword">function</span>(<span class="params">el, type, fn, capture</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.addEventListener) &#123;</div><div class="line">        el.addEventListener(type, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">            fn.call(el, e);</div><div class="line">        &#125;, capture);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.attachEvent) &#123;</div><div class="line">        el.attachEvent(<span class="string">"on"</span> + type, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">            fn.call(el, e);</div><div class="line">        &#125;);</div><div class="line">    &#125; </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>上面的方法有什么问题呢？很显然，我们每次使用addEvent为元素添加事件的时候，(eg. IE6/IE7)都会走一遍if…else if …，其实只要一次判定就可以了，怎么做？–柯里化。改为下面这样子的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> addEvent = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.addEventListener) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">el, sType, fn, capture</span>) </span>&#123;</div><div class="line">            el.addEventListener(sType, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">                fn.call(el, e);</div><div class="line">            &#125;, (capture));</div><div class="line">        &#125;;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">window</span>.attachEvent) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">el, sType, fn, capture</span>) </span>&#123;</div><div class="line">            el.attachEvent(<span class="string">"on"</span> + sType, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">                fn.call(el, e);</div><div class="line">            &#125;);</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure>
<p>初始addEvent的执行其实值实现了部分的应用（只有一次的if…else if…判定），而剩余的参数应用都是其返回函数实现的，典型的柯里化。</p>
<h4 id="3-延迟计算"><a href="#3-延迟计算" class="headerlink" title="3.延迟计算"></a>3.延迟计算</h4><p>一般而言，延迟计算或运行是没有必要的，因为一天花10块钱和月末花300块钱没什么本质区别——只是心里好受点（温水炖青蛙）。嘛，毕竟只是个人看法，您可能会不这么认为。举个例子，我每周末都要去钓鱼，我想知道我12月份4个周末总共钓了几斤鱼，把一些所谓的模式、概念抛开，我们可能就会下面这样实现：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fishWeight = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> addWeight = <span class="function"><span class="keyword">function</span>(<span class="params">weight</span>) </span>&#123;</div><div class="line">    fishWeight += weight;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">addWeight(<span class="number">2.3</span>);</div><div class="line">addWeight(<span class="number">6.5</span>);</div><div class="line">addWeight(<span class="number">1.2</span>);</div><div class="line">addWeight(<span class="number">2.5</span>);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(fishWeight);   <span class="comment">// 12.5</span></div></pre></td></tr></table></figure>
<p>每次addWeight都会累加鱼的总重量。<br>若是有柯里化实现，则会是下面这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> curryWeight = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> _fishWeight = [];</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> fn.apply(<span class="literal">null</span>, _fishWeight);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            _fishWeight = _fishWeight.concat([].slice.call(<span class="built_in">arguments</span>));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="keyword">var</span> fishWeight = <span class="number">0</span>;</div><div class="line"><span class="keyword">var</span> addWeight = curryWeight(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i=<span class="number">0</span>; len = <span class="built_in">arguments</span>.length;</div><div class="line">    <span class="keyword">for</span> (i; i&lt;len; i+=<span class="number">1</span>) &#123;</div><div class="line">        fishWeight += <span class="built_in">arguments</span>[i];</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">addWeight(<span class="number">2.3</span>);</div><div class="line">addWeight(<span class="number">6.5</span>);</div><div class="line">addWeight(<span class="number">1.2</span>);</div><div class="line">addWeight(<span class="number">2.5</span>);</div><div class="line">addWeight();    <span class="comment">//  这里才计算</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(fishWeight);    <span class="comment">// 12.5</span></div></pre></td></tr></table></figure>
<blockquote>
<p>部分内容转载自<a href="http://www.zhangxinxu.com" target="_blank" rel="external">张鑫旭-鑫空间-鑫生活</a></p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[在MAC上使用SVN]]></title>
      <url>https://chyrain.github.io/2017/01/16/SVN%E5%9C%A8MAC%E4%B8%8A%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
      <content type="html"><![CDATA[<h2 id="SVN在MAC"><a href="#SVN在MAC" class="headerlink" title="SVN在MAC"></a>SVN在MAC</h2><ul>
<li>checkout一个远程库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">svn checkout https://svn.duapp.com/appid8dt61afdcf --username=chy19910810@163.com --password=chy10350722. ./baidu</div></pre></td></tr></table></figure>
<ul>
<li>从本地导入代码到服务器(第一次初始化导入)，在终端中输入</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">svn import /Users/apple/Documents/eclipse_workspace/weibo svn://localhost/mycode/weibo --username=mj --password=123 -m &quot;初始化导入&quot;</div></pre></td></tr></table></figure>
<ul>
<li>提交代码到服务器：svn commit -m “修改了main.m文件”</li>
<li>更新服务器端的代码到客户端：svn update</li>
<li>svn的其他用法，可以在终端输入：svn help</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[微信抢红包神器，安卓党的福音]]></title>
      <url>https://chyrain.github.io/2017/01/05/%E5%BE%AE%E4%BF%A1%E6%8A%A2%E7%BA%A2%E5%8C%85%E7%A5%9E%E5%99%A8%EF%BC%8C%E5%AE%89%E5%8D%93%E5%85%9A%E7%9A%84%E7%A6%8F%E9%9F%B3/</url>
      <content type="html"><![CDATA[<h2 id="微信红包助手"><a href="#微信红包助手" class="headerlink" title="微信红包助手"></a>微信红包助手</h2><p><a href="http://chyrain.com/app/wxbot/app.html" target="_blank" rel="external"><br><img src="https://raw.githubusercontent.com/Chyrain/MDPictures/master/res/V5WxBot_m.gif" width="330" alt="chess_react" align="center"><br></a></p>
<h3 id="更新说明"><a href="#更新说明" class="headerlink" title="更新说明"></a>更新说明</h3><ol>
<li>使用手机时，自动识别微信通知，快速抢红包</li>
<li>屏幕未解锁，发出红包提醒</li>
<li>取消屏幕密码，息屏也能自动抢红包</li>
</ol>
<h3 id="应用介绍"><a href="#应用介绍" class="headerlink" title="应用介绍"></a>应用介绍</h3><p>微信红包提醒，自动抢红包，让你的小伙伴们惊讶吧！</p>
<blockquote>
<p>注：本软件仅供学习使用，完全模拟人工操作，抢红包速度取决于你手机的性能与网络，不涉及任何第三方软件接口，本软件无病毒、不收集用户隐私信息，禁止使用本软件参与赌博活动。一切因使用本软件造成的任何后果，本软件责任人概不负责，亦不承担任何法律责任!<br>本应用源于codyboy的qianghongbao(github)项目，经过改进和再次开发以适应当前版本的微信，不做任何盈利性目的，特此声明，同时感谢原作者，如有侵权请联系客服告知。<br>应用截图</p>
</blockquote>
<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><ol>
<li>进入“V5红包助手”，需要打开“微信”开关和“快速监听通知栏”开关，并进入右上角菜单页的“打开辅助服务”和“打开通知栏服务”检查对应服务是否被允许（魅族手机打开辅助服务需要在打开“打开辅助服务”后进入“无障碍”，再选择打开“V5红包助手”）。</li>
<li>进入微信，确保 微信 -&gt; 我 -&gt; 设置 -&gt; 新消息提醒 -&gt; 通知显示消息详情保持打开状态，且红包所在群聊不能开启消息免打扰。</li>
<li>确保V5红包助手处于运行状态，不被系统后台清理，各系统手机设置不同，一般在省电管理中可以找到对应设置项。（例如：<br> 魅族：手机管家-&gt;省电模式-&gt;待机耗电管理-&gt;选择保持运行的耗电应用开启“V5红包助手”的对应开关；<br> 三星：设置-&gt;电池-&gt;应用程序省电[详情]-&gt;找到”V5红包助手”并点击选择“已禁用”选项）</li>
<li>仅支持Android 4.3及以上系统。</li>
<li>为防止微信跟踪发现到异常抢红包行为导致账号使用异常，请避免频繁使用红包助手抢红包，并尽量设置延迟拆红包时间来防止微信捕捉到异常抢红包行为（进入“V5红包助手“-“微信设置”-“设置延迟拆红包/查看手气时间”值为1000毫秒以上)，因使用”V5红包助手”出现的后果本应用概不负责。</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2016年终总结]]></title>
      <url>https://chyrain.github.io/2016/12/23/2016%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<h1 id="2016年终总结"><a href="#2016年终总结" class="headerlink" title="2016年终总结"></a>2016年终总结</h1><blockquote>
<p>“时间是一切财富中最宝贵的财富。。。” — 狭缩德</p>
</blockquote>
<h2 id="迅捷的2016"><a href="#迅捷的2016" class="headerlink" title="迅捷的2016"></a>迅捷的2016</h2><blockquote>
<p><em>——人生天地之间，若白驹过隙，忽然而已。蓦然回首，头上似霜雪，脸上似山川。</em></p>
</blockquote>
<p><strong>一年过去了，总结自己有以下几个遗憾：</strong></p>
<ul>
<li>没有时间坚持技术博客写作，尽管在不断给自己的某某云服务充值，博客内容始终空空如也</li>
<li>没能坚持走一条完整的技术路线，而是四处涉猎，缺哪补哪</li>
<li>工资不够花（好吧，我知道你也一样）</li>
</ul>
<p><strong>一年过去了，我都干了些啥：</strong></p>
<ul>
<li>公司Android平台App的全新2.x版本的升级，以及功能更新和维护，从原先的开放链接下载到陆续上架到应用宝、豌豆荚、360手机助手，最近还将推出小米市场专版</li>
<li>公司iOS平台App的业务完善和发布，以及上架这一年的常规功能更新和维护</li>
<li>公司Android和iOS两个平台的SDK接口的逐步完善和稳定，不定时地充当这两个sdk的技术客服</li>
<li>从9月底开始接手公司HTML5开发维护任务，完成了大概13个座席版本和10个客户版本的release功能升级和bug维护</li>
<li>拿了驾照，经过了前后6个月时间，利用个别零散的休息日，也时而请下假，算是比较轻松地拿下了驾照</li>
<li>总结：几乎把所有时间给了公司，白天上班，晚上回来经常加班加点完善产品</li>
</ul>
<p><strong>一年过去了，同样也会有如下几个收获：</strong></p>
<ul>
<li>横跨三大技术路线(其实并不想…)，从Android到iOS再到H5的“无缝衔接”，当然，这很让人头大，就像熟悉了Eclipse的切换到Android Studio，从Eclipse切换到Xcode再切换到Sublime Text，这其中的快捷键使用，还有java、OC和js的语法经常方寸大乱。</li>
<li>重拾大学时期接触过的网页开发知识，发现如今前端技术架构已发生巨变，WVVM架构和组件化的思路是一大亮点(与App开发越发接近)</li>
<li>公司客服系统的所有前端产品算是都让我给承包了，感到责任重于泰山啊😹</li>
<li>获得温柔贤淑的女票一枚</li>
</ul>
<p><strong>这一年的自我感觉：</strong></p>
<ul>
<li>感觉能力提升不大，但思维方式改变比较多</li>
<li>开发的同时也注重产品思维</li>
<li>看到大牛的博客依然莫名的兴奋</li>
<li>执行力决定效果，杜绝了大部分的光说不练</li>
</ul>
<h2 id="2017？"><a href="#2017？" class="headerlink" title="2017？"></a>2017？</h2><p>身体是革命的本钱，这一年发现眼神越来越不好了，经常有莫名的闪光和模糊，毕竟作为程序员一整天面对显示屏，这个日后一定得好好保护。未来一年，不需要太多的计划，有时间多出去走走，把生活过得更像生活一些，而不只是工作。</p>
<p>计划：</p>
<ul>
<li>利用空闲时间做一款让自己满意的作品（网页竞价推广过滤插件，H5跨平台桌面应用，个人微信智能助手，抢红包利器，精美个人博客页）</li>
<li>带女票去一个远点的地方旅游</li>
<li>提升薪资到自己能够接受的水平</li>
</ul>
<p>最后，如果大家对V5客服不熟悉的话，可以去搜搜，顺便替公司打个广告：绝对靠谱的智能客服系统，欢迎前来领用～</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[使用React遇到的坑]]></title>
      <url>https://chyrain.github.io/2016/12/03/%E4%BD%BF%E7%94%A8React%E7%9A%84%E5%9D%91/</url>
      <content type="html"><![CDATA[<h2 id="React-ES6开发过程中遇到的坑"><a href="#React-ES6开发过程中遇到的坑" class="headerlink" title="React/ES6开发过程中遇到的坑"></a>React/ES6开发过程中遇到的坑</h2><ol>
<li>setState第二层级必须assign，而且$.assign({}, this.state.xxx, {x:x})，尽量不要使用一层以上层级</li>
<li>redux connect 组件中，传入props内的函数function声明方式才可以获得bind或者call传入的this参数</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[React实现国际象棋]]></title>
      <url>https://chyrain.github.io/2016/11/17/Chess-With-React/</url>
      <content type="html"><![CDATA[<h2 id="ChessWithReact"><a href="#ChessWithReact" class="headerlink" title="ChessWithReact"></a>ChessWithReact</h2><p>A chess web game use <a href="https://facebook.github.io/react" target="_blank" rel="external">react</a> and <a href="http://gaearon.github.io/react-dnd/" target="_blank" rel="external">react-dnd</a>.</p>
<p>本实例参考<code>react-dnd</code>官方Tutorial实例，并进行扩展和改进。</p>
<h2 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h2><p><img src="https://raw.githubusercontent.com/Chyrain/MDPictures/master/res/chess_react.gif" width="330" alt="chess_react" align="center"></p>
<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p><a href="https://github.com/Chyrain/ChessWithReact.git" target="_blank" rel="external">github地址</a></p>
<h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><blockquote>
<p>  MIT License<br>  Copyright (c) 2016 <a href="http://chyrain.com" target="_blank" rel="external">Chyrain</a></p>
<p>  Permission is hereby granted, free of charge, to any person obtaining a copy<br>    of this software and associated documentation files (the “Software”), to deal<br>    in the Software without restriction, including without limitation the rights<br>    to use, copy, modify, merge, publish, distribute, sublicense, and/or sell<br>    copies of the Software, and to permit persons to whom the Software is<br>    furnished to do so, subject to the following conditions:</p>
<p>  The above copyright notice and this permission notice shall be included in all<br>    copies or substantial portions of the Software.</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[git操作记录]]></title>
      <url>https://chyrain.github.io/2016/06/08/git%E6%93%8D%E4%BD%9C%E8%AE%B0%E5%BD%95/</url>
      <content type="html"><![CDATA[<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><ul>
<li><p>放弃本地所有修改，强制更新</p>
<p>  git fetch –all<br>  git reset –hard origin/master</p>
</li>
<li><p>删除本地tag</p>
<p>  git tag -d <tagname></tagname></p>
</li>
<li><p>删除远程tag</p>
<p>  git push origin –delete tag <tagname></tagname></p>
<p>  or</p>
<p>  git tag -d <tagname><br>  git push origin :refs/tags/<tagname></tagname></tagname></p>
</li>
<li><p>本地tag推送到远程</p>
<p>  git push –tags</p>
</li>
<li><p>获取远程tag</p>
<p>  git fetch origin tag <tagname></tagname></p>
</li>
<li><p>删除远程分支</p>
<p>  git push origin –delete <branchname></branchname></p>
<p>  or</p>
<p>  git push origin :<branchname></branchname></p>
</li>
<li><p>本地clone后更新远程库内容</p>
<p>  如果你不是fork的项目的话：</p>
<pre><code>git pull
</code></pre><p>  即可。如果你是fork的话，把原来的项目添加到：</p>
<pre><code>git remote add usp [主项目地址]
</code></pre><p>  然后：</p>
<pre><code>git fetch ups &amp;&amp; git merge ups/master
</code></pre></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[sudo 命令的一些小技巧]]></title>
      <url>https://chyrain.github.io/2016/03/17/sudo%20Tips/</url>
      <content type="html"><![CDATA[<h2 id="sudo"><a href="#sudo" class="headerlink" title="sudo"></a>sudo</h2><blockquote>
<p>在Linux下，我们需要使用sudo命令，让普通用户也能执行一些root命令，本文对常用的一些sudo操作以及平时没有发现的小技巧进行简单介绍。</p>
</blockquote>
<h3 id="1-授权"><a href="#1-授权" class="headerlink" title="1. 授权"></a>1. 授权</h3><p>普通用户如果没有权限访问某些文件或者执行某个命令时，要是该用户获得root授权，就可以通过在要执行的命令前加上sudo，临时切换到root用户的权限完成相关操作。</p>
<p>怎样让用户可以临时获取root权限呢？这就需要在<code>/etc/sudoers</code>文件中进行配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#授权给单个用户所有命令的执行权限</div><div class="line">username ALL=(ALL) ALL</div></pre></td></tr></table></figure>
<p>上面这个例子中：</p>
<ul>
<li>username: 允许使用suod的用户名</li>
<li>ALL: 允许从任何终端(机器)使用sudo</li>
<li>(ALL): 允许以任何用户身份执行sudo</li>
<li>ALL: 允许sudo权限执行任何命令</li>
</ul>
<p>如果我们想让用户<code>chyrain</code>只能在本机（主机名为<code>work-pc</code>）以<code>root</code>账户执行<code>/bin/chown</code>、<code>/bin/chmod</code>这两条命令，那么就应该这样配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chyrain work-pc=(root) /bin/chown,/bin/chmod</div></pre></td></tr></table></figure>
<p>当你的帐号在<code>/etc/sudoers</code>文件中被授予 sudo 的权限，那么你就可以将任何 root 命令作为 sudo 命令的参数，使用 root 权限来执行该命令。首次使用会要求你输入当前用户的密码，系统确实输入正确即以 root 权限来执行 mount 命令，接下来一段时间（默认为5分钟）再次使用 sudo 命令就不需要输密码了。</p>
<h3 id="2-执行root命令后忘记加sudo"><a href="#2-执行root命令后忘记加sudo" class="headerlink" title="2. 执行root命令后忘记加sudo"></a>2. 执行root命令后忘记加sudo</h3><p>我们会碰到这样一种情形，当我们输入一个长长的命令，果断地敲下回车之后出现无权限操作，才发现忘记在命令前面加sudo了，一般我们的做法是按 ↑ 回到上一条命令，在该命令之前加上sudo，再执行该命令。</p>
<p>其实，我们并不需要这样，只要输入<code>sudo !!</code>即可，这里的<code>!!</code>代表上一条命令。如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ cat /etc/sudoers</div><div class="line">cat: cannot open /etc/sudoers for reading: Permission denied</div><div class="line"></div><div class="line">$ sudo !!</div><div class="line">sudo cat /etc/sudoers</div><div class="line">## sudoers file.</div><div class="line">##</div><div class="line">## This file MUST be edited with the &apos;visudo&apos; command as root.</div><div class="line">## Failure to use &apos;visudo&apos; may result in syntax or file permission errors</div><div class="line">## that prevent sudo from running.</div><div class="line">##</div><div class="line">## See the sudoers man page for the details on how to write a sudoers file.</div><div class="line">##</div><div class="line">## User privilege specification</div><div class="line">##</div><div class="line">root ALL=(ALL) ALL</div><div class="line">%admin  ALL=(ALL) ALL</div><div class="line">#</div></pre></td></tr></table></figure>
<h3 id="3-vim编辑完成后发现忘记使用sudo无法保存"><a href="#3-vim编辑完成后发现忘记使用sudo无法保存" class="headerlink" title="3. vim编辑完成后发现忘记使用sudo无法保存"></a>3. vim编辑完成后发现忘记使用sudo无法保存</h3><p>我们经常会遇到这样的一个囧境：使用 <code>vim</code> 对某个文件进行编辑，编辑完之后，按 ESC 之后回到普通模式，再按 <code>:wq</code> 准备保存退出时，发现没有权限对该文件进行修改，我们在使用 vim 命令时忘记在前面加 sudo 了。我就经常出现这种问题，之前的做法是只能不保存强退，再加上 sudo 重新编辑。</p>
<p>但是今后我们再也不需要用这么愚蠢的做法了，我们可以在 vim 的普通模式下，按 <code>:w !sudo tee %</code> ，这样就可以 root 权限来保存文件了，你也无需因为自己一时忘记加个 sudo 而沮丧懊恼了！</p>
<h3 id="4-shell-内置命令如何使用-sudo"><a href="#4-shell-内置命令如何使用-sudo" class="headerlink" title="4. shell 内置命令如何使用 sudo"></a>4. shell 内置命令如何使用 sudo</h3><p>shell 是一个交互式的应用程序，在执行外部命令时通过 fork 来创建一个子进程，再通过 exec 来加载外部命令的程序来执行，但是如果一个命令是 shell 内置命令，那么只能直接由 shell 来运行。sudo 的意思是，以别的用户（如root）的权限来 fork 一个进程，加载程序并运行，因此 sudo 后面不能跟 shell 的内置命令，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo cd /sys/kernel/debugfs</div><div class="line">sudo: cd: command not found</div></pre></td></tr></table></figure>
<p>在这种情况，我们又没有 root 账户的密码，我们怎样执行该命令呢？有种办法就是使用 <code>sudo</code> 获得root shell 的权限，然后 <em>在root shell 中执行该命令</em> 。进入root shell 很简单，输入sudo bash 确认本用户的密码即可，此时你会发现命令提示符显示当前是 root。一旦获得root shell，你可以执行任何命令而不需要在每条命令前输入sudo了。</p>
<p>另外，常用的shell 内置命令在这里 有简单介绍，我们可以使用 type 命令来查看命令的类型，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ type ls</div><div class="line">ls is /bin/ls</div><div class="line">$ type umask</div><div class="line">umask is a shell builtin</div></pre></td></tr></table></figure>
<h3 id="5-sudo操作记录日志"><a href="#5-sudo操作记录日志" class="headerlink" title="5. sudo操作记录日志"></a>5. sudo操作记录日志</h3><p>作为一个 Linux 系统的管理员，不仅可以让指定的用户或用户组作为root用户或其它用户来运行某些命令，还能将指定的用户所输入的命令和参数作详细的记录。而sudo的日志功能就可以用户跟踪用户输入的命令，这不仅能增进系统的安全性，还能用来进行故障检修。但是要记录sudo的日志还要一些简单的配置：</p>
<ul>
<li><p>创建sudo日志文件<br>  我们将sudo日志文件放置在<code>/var/log/sudo.log</code>文件中：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo touch /var/log/sudo.log</div></pre></td></tr></table></figure>
</li>
<li><p>修改<code>/etc/rsyslog.conf</code>配置文件<br>  我的系统为Ubuntu为该名字，但有些系统名为<code>/etc/syslog.conf</code>，注意不同发行版本之间的差别，在该文件加入下面一行：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">local2.debug    /var/log/sudo.log    #空白不能用空格，必须用tab</div></pre></td></tr></table></figure>
</li>
<li><p>修改<code>/etc/sudoers</code>配置文件<br>  注意网上很多关于sudo日志文件配置的都缺少这一步，在该文件中加入下面一行：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Defaults    logfile=/var/log/sudo.log</div></pre></td></tr></table></figure>
</li>
<li><p>重启syslog服务</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo service rsysylog restart</div></pre></td></tr></table></figure>
</li>
<li><p>查看suod日志记录<br>  经过上面配置，sudo的命令记录都会记录到文件<code>/var/log/sudo.log</code>中，例如我们执行几条sudo命令之后，查看该文件的记录如下：</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ cat sudo.log</div><div class="line">Nov 17 22:23:52 : chyrain : TTY=pts/1 ; PWD=/var/log ; USER=root ; COMMAND=/bin/cat /etc/sudoers</div><div class="line">Nov 17 22:24:42 : chyrain : TTY=pts/1 ; PWD=/var/log ; USER=root ; COMMAND=/bin/ls</div><div class="line">Nov 17 22:28:12 : chyrain : TTY=pts/1 ; PWD=/var/log ; USER=root ; COMMAND=/usr/sbin/service rsyslog restart</div><div class="line">Nov 17 22:29:26 : chyrain : TTY=pts/1 ; PWD=/var/log ; USER=root ; COMMAND=/bin/ls /root/</div></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>https://chyrain.github.io/2015/05/16/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    </entry>
    
  
  
    
    <entry>
      <title><![CDATA[about]]></title>
      <url>https://chyrain.github.io/about/index.html</url>
      <content type="html"><![CDATA[<h1 id="About"><a href="#About" class="headerlink" title="About"></a>About</h1><ul>
<li>Chyrain<blockquote>
<ul>
<li>chyrain.com</li>
</ul>
</blockquote>
</li>
</ul>
]]></content>
    </entry>
    
  
</search>
