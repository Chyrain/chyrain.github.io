<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********   
    -----Edit By Chyrain(https://chyrain.github.io)  -----Theme By Kieran(http://go.kieran.top) 
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>JS-基础问题不基础 | Chyrain</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Chyrain">
    <meta name="author" content="Chyrain">
    <meta name="description" content="working & learning" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico">

    <link rel="alternate" href="/atom.xml" title="Chyrain" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
	
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    
    

    <!-- Custom stylesheet, (add custom styles here, always load last) -->
    <!-- Load our stylesheet for IE8 -->
    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- Google Webfonts (Monserrat 400/700, Open Sans 400/600) -->
    <link href='//fonts.useso.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.useso.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>

    <!-- Load our fonts individually if IE8+, to avoid faux bold & italic rendering -->
    <!--[if IE]>
    <link href='https://fonts.useso.com/css?family=Montserrat:400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.useso.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.useso.com/css?family=Open+Sans:400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.useso.com/css?family=Open+Sans:600' rel='stylesheet' type='text/css'>
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->










  
  
  

  
  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            
        	<li>
        		<a class="sb-toggle-submenu">Categories<span class="sb-caret"></span></a>
            	<ul class="sb-submenu">
				  	
				    <li><a href="/categories/Android/" class="animsition-link">Android<small>(2)</small></a></li>
				    
				    <li><a href="/categories/Linux/" class="animsition-link">Linux<small>(1)</small></a></li>
				    
				    <li><a href="/categories/others/" class="animsition-link">others<small>(2)</small></a></li>
				    
				    <li><a href="/categories/前端/" class="animsition-link">前端<small>(12)</small></a></li>
				    
				    <li><a href="/categories/小程序/" class="animsition-link">小程序<small>(1)</small></a></li>
				    
				    <li><a href="/categories/摆好pose/" class="animsition-link">摆好pose<small>(7)</small></a></li>
				    
				</ul>
        	</li>
			
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="http://chyrain.com/" class="animsition-link">Chyrain</a></li>
                    
                    <li><a href="http://www.v5kf.com/" class="animsition-link">V5KF</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about/" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                        
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/about/" class="animsition-link">Chyrain</a></li>
                            <li class="nolink"><span>Always </span>Creative.</li>
                            
                            <li><a href="https://github.com/chyrain" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            
                            
                            
                            <li><a href="https://weibo.com/1960951513" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2017-02-28T08:21:54.000Z" itemprop="datePublished">
          2017-02-28
      </time>
    
</span>
                <h1>JS-基础问题不基础</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h2 id="JS基础问题"><a href="#JS基础问题" class="headerlink" title="JS基础问题"></a>JS基础问题</h2><p>推荐：<a href="https://book.douban.com/subject/26351021/" target="_blank" rel="external">《你不知道的Javascript》</a></p>
<h3 id="1-引用传递与值传递"><a href="#1-引用传递与值传递" class="headerlink" title="1. 引用传递与值传递"></a>1. 引用传递与值传递</h3><p><strong>js 中什么类型是引用传递, 什么类型是值传递? 如何将值类型的变量以引用的方式传递?</strong></p>
<blockquote>
<p>简单点说, <strong><code>对象</code></strong>是<code>引用传递</code>, <strong><code>基础类型</code></strong>是<code>值传递</code>, 通过将基础类型包装 (boxing) 可以以引用的方式传递.</p>
</blockquote>
<p>仔细查看并理解下面代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeStuff</span>(<span class="params">a, b, c</span>)</span></div><div class="line">&#123;</div><div class="line">  a = a * <span class="number">10</span>;</div><div class="line">  b.item = <span class="string">"changed"</span>;</div><div class="line">  c = &#123;<span class="attr">item</span>: <span class="string">"changed"</span>&#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</div><div class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">item</span>: <span class="string">"unchanged"</span>&#125;;</div><div class="line"><span class="keyword">var</span> obj2 = &#123;<span class="attr">item</span>: <span class="string">"unchanged"</span>&#125;;</div><div class="line"></div><div class="line">changeStuff(num, obj1, obj2);</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(num);</div><div class="line"><span class="built_in">console</span>.log(obj1.item);    </div><div class="line"><span class="built_in">console</span>.log(obj2.item);</div></pre></td></tr></table></figure></p>
<p>(类推C++)指针与引用的区别（C++语言中，函数的参数和返回值的传递方式有三种：值传递、指针传递和引用传递）：</p>
<ul>
<li>指针是一个实体，而引用仅是个别名</li>
<li>引用被创建的同时必须被初始化（指针则可以在任何时候被初始化）。</li>
<li>不能有NULL 引用，引用必须与合法的存储单元关联（指针则可以是NULL）。</li>
<li>一旦引用被初始化，就不能改变引用的关系（指针则可以随时改变所指的对象）。</li>
<li>“sizeof 引用”得到的是所指向的变量（对象）的大小，而“sizeof指针”得到的是指针本身（所指向的变量或对象的地址）的大小；</li>
<li>引用没有 const，指针有 const，const 的指针不可变；</li>
</ul>
<p>引用是一种特殊的操作被限定的指针(必须初始化不为空，不用判空，不可重新赋值到其他对象的引用)，指针是一把可以砍树、割草、割断绳子的刀，引用是一把剪绳子的剪刀，引用可以干的事指针也可以，但是引用比较安全，为什么要用引用，其实即“用适当的工具做恰如其分的工作”。指针能够毫无约束地操作内存中的如何东西，尽管指针功能强大，但是非常危险。 如果的确只需要借用一下某个对象的“别名”，那么就用“引用”，而不要用“指针”，以免发生意外。比如说，某人需要一份证明，本来在文件上盖上公章的印子就行了，如果把取公章的钥匙交给他，那么他就获得了不该有的权利。</p>
<h3 id="2-和"><a href="#2-和" class="headerlink" title="2. ==和==="></a>2. <code>==</code>和<code>===</code></h3><ul>
<li>==， 两边值类型不同的时候，会先进行类型转换，再比较。 </li>
<li>===，不做类型转换，类型不同的一定不等。</li>
</ul>
<blockquote>
<p>下面分别说明：<br>先说 ===，这个比较简单。下面的规则用来判断两个值是否===相等：<br>1、如果类型不同，就[不相等]<br>2、如果两个都是数值，并且是同一个值，那么[相等]；(！例外)的是，如果其中至少一个是NaN，那么[不相等]。（判断一个值是否是NaN，只能用isNaN()来判断）<br>3、如果两个都是字符串，每个位置的字符都一样，那么[相等]；否则[不相等]。<br>4、如果两个值都是true，或者都是false，那么[相等]。<br>5、如果两个值都引用同一个对象或函数，那么[相等]；否则[不相等]。<br>6、如果两个值都是null，或者都是undefined，那么[相等]。<br>再说 ==，根据以下规则：<br>1、如果两个值类型相同，进行 === 比较。<br>2、如果两个值类型不同，他们可能相等。根据下面规则进行类型转换再比较：<br>a、如果一个是null、一个是undefined，那么[相等]。<br>b、如果一个是字符串，一个是数值，把字符串转换成数值再进行比较。<br>c、如果任一值是 true，把它转换成 1 再比较；如果任一值是 false，把它转换成 0 再比较。<br>d、如果一个是对象，另一个是数值或字符串，把对象转换成基础类型的值再比较。对象转换成基础类型，利用它的toString或者valueOf方法。 js核心内置类，会尝试valueOf先于toString；例外的是Date，Date利用的是toString转换。非js核心的对象，令说（比较麻 烦，我也不大懂）<br>e、任何其他组合，都[不相等]。</p>
<p>主要注意区分<code>Nan</code>、<code>undefined</code>、<code>null</code>间的判断。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span> == <span class="string">'1'</span>        <span class="comment">//true</span></div><div class="line"><span class="number">1</span> === <span class="string">'1'</span>       <span class="comment">//false</span></div><div class="line"><span class="string">'123'</span> === <span class="string">'123'</span> <span class="comment">//true</span></div><div class="line"><span class="number">1</span> === <span class="number">1</span>         <span class="comment">//true</span></div><div class="line">[<span class="number">1</span>] == [<span class="number">1</span>]      <span class="comment">//false</span></div><div class="line">&#123;&#125; == &#123;&#125;        <span class="comment">//false</span></div><div class="line"><span class="number">1</span> == <span class="literal">true</span>       <span class="comment">//true</span></div><div class="line"><span class="number">1</span> === <span class="literal">true</span>      <span class="comment">//false</span></div><div class="line"><span class="number">2</span> == <span class="literal">true</span>       <span class="comment">//false</span></div><div class="line"><span class="number">0</span> == <span class="literal">false</span>      <span class="comment">//true</span></div><div class="line"><span class="number">0</span> === <span class="literal">false</span>     <span class="comment">//false</span></div><div class="line"><span class="keyword">var</span> a = [<span class="number">1</span>], b = a;</div><div class="line">a === b         <span class="comment">//true</span></div><div class="line"></div><div class="line"><span class="literal">null</span> === <span class="literal">null</span>           <span class="comment">//true</span></div><div class="line"><span class="literal">undefined</span> == <span class="literal">undefined</span>  <span class="comment">//true</span></div><div class="line"><span class="literal">undefined</span> == <span class="literal">null</span>       <span class="comment">//true</span></div><div class="line"><span class="literal">undefined</span> === <span class="literal">null</span>      <span class="comment">//false</span></div><div class="line"><span class="literal">undefined</span> == <span class="literal">NaN</span>        <span class="comment">//false</span></div><div class="line"><span class="literal">null</span> == <span class="literal">NaN</span>             <span class="comment">//false</span></div><div class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span>              <span class="comment">//false ***注意***</span></div><div class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>             <span class="comment">//false ***注意***</span></div><div class="line"><span class="keyword">void</span> <span class="number">0</span> === <span class="literal">undefined</span>    <span class="comment">//true</span></div><div class="line"><span class="keyword">void</span> <span class="number">0</span> == <span class="literal">NaN</span>           <span class="comment">//false</span></div></pre></td></tr></table></figure>
<h3 id="3-类型判断typeof"><a href="#3-类型判断typeof" class="headerlink" title="3. 类型判断typeof"></a>3. 类型判断<code>typeof</code></h3><p><strong>你知道下面typeof运算的结果吗？</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span>(<span class="number">1</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="literal">NaN</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="built_in">Number</span>.MIN_VALUE);</div><div class="line"><span class="keyword">typeof</span>(<span class="literal">Infinity</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="string">"123"</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="literal">true</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="built_in">window</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="built_in">document</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="literal">null</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="built_in">eval</span>);</div><div class="line"><span class="keyword">typeof</span>(<span class="built_in">Date</span>);</div><div class="line"><span class="keyword">typeof</span>(sss);</div><div class="line"><span class="keyword">typeof</span>(<span class="literal">undefined</span>);</div></pre></td></tr></table></figure>
<p>看看你会几个？<br>我们来试试看看结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">alert(typeof(1));                   // number</div><div class="line">alert(typeof(NaN));                 // number</div><div class="line">alert(typeof(Number.MIN_VALUE));    // number</div><div class="line">alert(typeof(Infinity));            // number  </div><div class="line">alert(typeof(&quot;123&quot;));               // string</div><div class="line">alert(typeof(true));                // boolean</div><div class="line">alert(typeof(window));              // object</div><div class="line">alert(typeof(document));            // object</div><div class="line">alert(typeof(null));                // object</div><div class="line">alert(typeof(eval));                // function</div><div class="line">alert(typeof(Date));                // function</div><div class="line">alert(typeof(sss));                 // undefined</div><div class="line">alert(typeof(undefined));           // undefined</div></pre></td></tr></table></figure>
<p>如果看了以后，不是很明白的话，请看下面：<br>typeof是一个一元运算符，它返回的结果 始终是一个字符串，对不同的操作数，它返回不同的结果。<br>具体的规则如下：</p>
<ol>
<li><p>对于数字类型的操作数而言， typeof 返回的值是 number。比如说：typeof(1)，返回的值就是number。<br>上面是举的常规数字，对于非常规的数字类型而言，其结果返回的也是number。比如typeof(NaN)，NaN在<br>JavaScript中代表的是特殊非数字值，虽然它本身是一个数字类型。<br>在JavaScript中，特殊的数字类型还有几种：<br>Infinity 表示无穷大特殊值<br>NaN　　　　　　　　　　　　特殊的非数字值<br>Number.MAX_VALUE　　　　　可表示的最大数字<br>Number.MIN_VALUE　　　　　可表示的最小数字（与零最接近）<br>Number.NaN　　　　　 　　　特殊的非数字值<br>Number.POSITIVE_INFINITY　表示正无穷大的特殊值<br>Number.NEGATIVE_INFINITY  表 示负无穷大的特殊值<br>以上特殊类型，在用typeof进行运算进，其结果都将是number。</p>
</li>
<li><p>对于字符串类型， typeof 返回的值是 string。比如typeof(“123”)返回的值是string。 </p>
</li>
<li>对于布尔类型， typeof 返回的值是 boolean 。比如typeof(true)返回的值是boolean。</li>
<li>对于对象、数组、null 返回的值是 object 。比如typeof(window)，typeof(document)，typeof(null)返回的值都是object。</li>
<li>对于函数类型，返回的值是 function。比如：typeof(eval)，typeof(Date)返回的值都是function。</li>
<li>如 果运算数是没有定义的（比如说不存在的变量、函数或者undefined），将返回undefined。比如：typeof(sss)、typeof(undefined)都返回undefined。</li>
</ol>
<h3 id="4-作用域"><a href="#4-作用域" class="headerlink" title="4. 作用域"></a>4. 作用域</h3><p><strong><code>let</code> 和 <code>var</code> 的区别？</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> me = <span class="string">'go'</span>;  <span class="comment">// globally scoped</span></div><div class="line"><span class="keyword">var</span> i = <span class="string">'able'</span>; <span class="comment">// globally scoped</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.me); <span class="comment">// undefined</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.i); <span class="comment">// 'able'</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">allyIlliterate</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//tuce is *not* visible out here</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span>( <span class="keyword">let</span> tuce = <span class="number">0</span>; tuce &lt; <span class="number">5</span>; tuce++ ) &#123;</div><div class="line">        <span class="comment">//tuce is only visible in here (and in the for() parentheses)</span></div><div class="line">        <span class="comment">//and there is a separate tuce variable for each iteration of the loop</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//tuce is *not* visible out here</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">byE40</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//nish *is* visible out here</span></div><div class="line"></div><div class="line">    <span class="keyword">for</span>( <span class="keyword">var</span> nish = <span class="number">0</span>; nish &lt; <span class="number">5</span>; nish++ ) &#123;</div><div class="line">        <span class="comment">//nish is visible to the whole function</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//nish *is* visible out here</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>var的作用域：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> MyLike = <span class="string">'C#'</span>;</div><div class="line">YouLike = <span class="string">'C++'</span>;</div><div class="line">alert(<span class="string">'我喜欢：'</span> + MyLike + <span class="string">" 你喜欢："</span> + YouLike);</div><div class="line"><span class="comment">//输出：我喜欢：C# 你喜欢：C++</span></div><div class="line">ChangeLike();</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ChangeLike</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    alert(MyLike + <span class="string">'是我喜欢 '</span> + YouLike + <span class="string">'是你喜欢'</span>); <span class="comment">//undefined是我喜欢 C++是你喜欢</span></div><div class="line">    <span class="keyword">var</span> MyLike = <span class="string">'JS'</span>;</div><div class="line">    YouLike = <span class="string">'JAVA'</span>;</div><div class="line">    alert(MyLike + <span class="string">'是我喜欢 '</span> + YouLike + <span class="string">'是你喜欢'</span>)<span class="comment">//JS是我喜欢 JAVA是你喜欢</span></div><div class="line">&#125;</div><div class="line">alert(MyLike + <span class="string">'是我喜欢 '</span> + YouLike + <span class="string">'是你喜欢'</span>)<span class="comment">//C#是我喜欢 JAVA是你喜欢</span></div></pre></td></tr></table></figure>
<p>相对于let的区别:</p>
<ol>
<li><p>块级作用域if</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">flag</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (flag) &#123;</div><div class="line">        <span class="keyword">var</span> a = <span class="string">'js'</span></div><div class="line">    &#125; </div><div class="line">    <span class="comment">// 这里也可以访问 a</span></div><div class="line">&#125;</div><div class="line">变量a在<span class="keyword">if</span>块里声明的，但在<span class="keyword">else</span>块和<span class="keyword">if</span>外都可以访问到val, 把<span class="keyword">var</span>换成<span class="keyword">let</span>后：</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">flag</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (flag) &#123;</div><div class="line">        <span class="keyword">let</span> a = <span class="string">'js'</span></div><div class="line">    &#125; </div><div class="line">    <span class="comment">// 这里也访问不到 a</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>块级作用域for</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">2</span>; i++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'outer i: '</span> + i);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">2</span>; i++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'inner i: '</span>+i);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">outer i: <span class="number">0</span></div><div class="line">test.html:<span class="number">12</span> inner i: <span class="number">0</span></div><div class="line">test.html:<span class="number">12</span> inner i: <span class="number">1</span></div></pre></td></tr></table></figure>
<p>可以看到，外层循环被打断了，因为ｉ为全局变量所以 i 的值被内层循环修改了， 把内层循环的var换成let后：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">2</span>; i++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'outer i: '</span> + i);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;<span class="number">2</span>; i++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'inner i: '</span>+i);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>执行结果如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">outer i: <span class="number">0</span></div><div class="line">test.html:<span class="number">12</span> inner i: <span class="number">0</span></div><div class="line">test.html:<span class="number">12</span> inner i: <span class="number">1</span></div><div class="line">test.html:<span class="number">10</span> outer i: <span class="number">1</span></div><div class="line">test.html:<span class="number">12</span> inner i: <span class="number">0</span></div><div class="line">test.html:<span class="number">12</span> inner i: <span class="number">1</span></div></pre></td></tr></table></figure>
<ol>
<li>变量提升</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//先使用后声明</span></div><div class="line"><span class="built_in">console</span>.log(a) <span class="comment">// undefined</span></div><div class="line"><span class="keyword">var</span> a;</div><div class="line"></div><div class="line"><span class="comment">//变量val先使用后声明，输出undefined，也不报错。把var换成let，就报错了</span></div><div class="line"><span class="built_in">console</span>.log(a) <span class="comment">// Uncaught ReferenceError: a is not defined</span></div><div class="line"><span class="keyword">let</span> a;</div><div class="line"></div><div class="line"><span class="comment">//先判断后声明</span></div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> a == <span class="string">'undefined'</span>) &#123;</div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> a = <span class="string">''</span></div><div class="line"></div><div class="line"><span class="comment">//把var换成let，if处报语法错  Uncaught ReferenceError: a is not defined</span></div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> a == <span class="string">'undefined'</span>) &#123; <span class="comment">// Uncaught ReferenceError: a is not defined</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> a = <span class="string">''</span></div></pre></td></tr></table></figure>
<p>ES6规定，如果代码块中存在let，这个区块从一开始就形成了封闭作用域,凡是在声明之前就使用，就会报错。即在代码块内，在let声明之前使用变量都是不可用的。</p>
<ol>
<li>覆盖声明</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"><span class="keyword">let</span> me = <span class="string">'foo'</span>;</div><div class="line"><span class="keyword">let</span> me = <span class="string">'bar'</span>; <span class="comment">// SyntaxError: Identifier 'me' has already been declared</span></div><div class="line"><span class="meta"></span></div><div class="line">'use strict';</div><div class="line"><span class="keyword">var</span> me = <span class="string">'foo'</span>;</div><div class="line"><span class="keyword">var</span> me = <span class="string">'bar'</span>; <span class="comment">// No problem, `me` is replaced.</span></div></pre></td></tr></table></figure>
<h3 id="5-箭头函数-与-function-的区别"><a href="#5-箭头函数-与-function-的区别" class="headerlink" title="5. 箭头函数 与 function 的区别"></a>5. 箭头函数 与 function 的区别</h3><ul>
<li>function: function内this对象指向函数执行者，可使用bind(this)改变函数this指向，或者使用call(this)来调用时改变this指向。</li>
<li>箭头函数: 函数内部的this是词法作用域，由上下文确定。</li>
</ul>
<h3 id="6-内存释放"><a href="#6-内存释放" class="headerlink" title="6. 内存释放"></a>6. 内存释放</h3><p><a href="https://eggggger.xyz/2016/10/22/node-gc/" target="_blank" rel="external">《Node.js 垃圾回收》</a></p>

            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    <a class="pull-left" href="/2017/03/28/网页录音实现方案/" style="float: left;">
        ← 网页录音实现方案
    </a>
    
    
    <a class="pull-right" href="/2017/01/21/AWS配置shadowsocks和node.js/">
        AWS配置shadowsocks和node.js →
    </a>
    
</nav>

        <div class="duoshuo">
<div class="ds-thread" data-thread-key="2017/02/28/JS-基础问题不基础/" data-title="JS-基础问题不基础" data-url="https://chyrain.github.io/2017/02/28/JS-基础问题不基础/"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"chyrain"};
(function() {
	var ds = document.createElement('script');
	ds.type = 'text/javascript';ds.async = true;
	ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
	ds.charset = 'UTF-8';
	(document.getElementsByTagName('head')[0] 
	 || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Chyrain. All Rights Reserved.
                </p>
                <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p>
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/chyrain" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    
                    
                    
                    
                    <li><a href="https://weibo.com/1960951513" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
            <div style="display:none">
                <script src="https://s19.cnzz.com/z_stat.php?id=1264487432&web_id=1264487432" language="JavaScript"></script>
            </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->
      <!-- Load our scripts -->
        
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };
    
    resizeHero();
    
    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>
<!-- v5kf.com -->
<script type="text/javascript">
	(function (w, d, s, i, v, j, b) {
		w[i] = w[i] || function () {
			(w[i].v = w[i].v || []).push(arguments)
		};
		j = d.createElement(s),
			b = d.getElementsByTagName(s)[0];
		j.async = true;
		j.charset = "UTF-8";
		j.src = "https://www.v5kf.com/105723/v5kf.js";
		b.parentNode.insertBefore(j, b);
	})(window, document, "script", "V5CHAT");
      V5CHAT('language', 'en');
</script>
<!-- / v5kf.com -->
</body>
</html>
